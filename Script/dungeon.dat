Dungeons=2;
Teams=5;

Team 2;
{
	Relation 0, FRIEND;
}

Team 3;
{
	Relation 0, NEUTRAL;
	Relation 2, NEUTRAL;
}

Team 4;
{
	Relation 0, HOSTILE;
	Relation 2, HOSTILE;
	Relation 3, HOSTILE;
}

Dungeon 0;
{
	Levels=10;

	LevelDefault
	{
		FillSquare=floor,earth;

		Size=36,36;
		Rooms=5+rand%16;
		Items=10+rand%21;
		GenerateMonsters=true;
		ReCalculate=true;
		GenerateUpStairs=true;
		GenerateDownStairs=true;
		OnGround=false;
		TeamDefault=1;
		AmbientLight=0;
		LOSModifier=16;

		RoomDefault
		{
			Pos=2+rand%(XSize-6),2+rand%(YSize-6);
			Size=4+rand%8,4+rand%8;
			AltarPossible=true;
			WallSquare=floor,wall;
			FloorSquare=parquet,empty;
			DoorSquare=parquet,door;
			GenerateDoor=true;
			ReCalculate=true;
			DivineOwner=0;
			GenerateTunnel=true;
			GenerateLamps=true;
			Type=normalroom;
		}
	}

	Level 0;
	{
		GenerateUpStairs=false;

		RoomDefault
		{
			AltarPossible=false;
		}

		Room 0;
		{
			Size=5,5;

			Square, Pos 2,2;
			{
				IsWorldMapEntry=true;
				OverTerrain=stairsup;
			}

			Square, Pos 1,1;
			{
				Item=lamp;
			}

			Square, Pos 1,2;
			{
				Item=corpse;
			}

			Square, Pos 3,3;
			{
				Item=corpse;
			}
		}
	}

	Level 4+rand()%2;
	{
		Rooms=5+rand%16;  /* Due to a bug in recalculation code this must be repeated! */

		LevelMessage="You hear a wailing scream in the distance. An Enner Beast must dwell in the level!";

		Square, Random { Walkable=true; }
		{
			Character=ennerbeast;
		}
	}

	Level 6;
	{
		Description=DarkLevel;
		LevelMessage="You shudder as you sense a being of pure darkness nearby. Your goal is near.";
		FillSquare=stone floor, iron wall;
		Items=0;
		GenerateDownStairs=false;

		RoomDefault
		{
			AltarPossible=false;
			WallSquare=stone floor, iron wall;
			DoorSquare=parquet,iron door;
			GenerateLamps=false;
		}

		Square, Random { Walkable=true; }
		{
			Character=elpuri;
		}
	}

	Level 2+rand%2;
	{
		LevelMessage="You hear many wolves howling. You shiver.";
		Rooms=5+rand%16;  /* Due to a bug in recalculation code this must be repeated! */

		Room 1;
		{
			Size=7,7;
			AltarPossible=false;

			CharacterMap
			{
				Pos=1,1;
				Size=5,5;

				Types
				{
					W=wolf;
				}
			}
			{
				WWWWW
				WWWWW
				WWWWW
				WWWWW
				WWWWW
			}
		}
	}

	Level 5+rand%4;
	{
		Rooms=5+rand%16;  /* Due to a bug in recalculation code this must be repeated! */

		Room 1;
		{
			Size=7,7;
			AltarPossible=false;

			CharacterMap
			{
				Pos=1,1;
				Size=5,5;

				Types
				{
					G=golem;
				}
			}
			{
				GGGGG
				GGGGG
				GGGGG
				GGGGG
				GGGGG
			}
		}
	}

	Level 8;
	{
		GenerateDownStairs=false;
		/*Speciality=AboveOreeLair;*/

		Room 0;
		{
			Size=7,7;
			AltarPossible=false;
			WallSquare=floor,pepsi wall;
			FloorSquare=parquet,empty;
			DoorSquare=parquet,pepsi door;

			Square, Pos 3,3;
			{
				OverTerrain=pepsi stairsdown;
			}

			Square, Pos 3,5;
			{
				IsDownStairs=true;
			}
		}
	}

	Level 9;
	{
		/*Speciality=OreeLair;*/

		Description=OreeLair;
		LevelMessage="You are welcomed by an evil laughter: \"Welcome to my private lair, mortal! There's no escape now! Prepare to be pepsified!\" Suddenly the stairs behind you are gone.";
		FillSquare=pepsi floor,pepsi earth;
		Rooms=1;
		GenerateMonsters=false;
		GenerateUpStairs=false;
		GenerateDownStairs=false;
		Items=0;
		ReCalculate=false;

		Room 0;
		{
			Size=7,7;
			AltarPossible=false;
			WallSquare=pepsi floor,pepsi wall;
			FloorSquare=parquet,empty;
			GenerateDoor=false;
			ReCalculate=false;
			DivineOwner=17;

			Square, Pos 3,1;
			{
				OverTerrain = altar;
			}

			Square, Pos 3,3;
			{
				IsUpStairs=true;
			}

			Square, Pos 3,5;
			{
				OverTerrain=pepsi stairsup;
			}

			CharacterMap
			{
				Pos=1,1;
				Size=5,5;

				Types
				{
					O=oree;
					B=swatcommando;
					G=pepsi golem;
				}
			}
			{
				..O..
				.BBB.
				GB.BG
				.BBB.
				..G..
			}
		}
	}
}

Dungeon 1;
{
	Levels=1;

	Level 0;
	{
		Description=Attnam;
		FillSquare=floor,empty;
		Size=48,48;
		GenerateMonsters=false;
		Rooms=25 + rand % 6;
		Items=0;
		ReCalculate=false;
		GenerateUpStairs=false;
		GenerateDownStairs=false;
		OnGround=true;
		TeamDefault=2;
		AmbientLight=225;
		LOSModifier=32;
		
		RoomDefault
		{
			Pos=2+rand%(XSize-6),2+rand%(YSize-6);
			Size=4+rand%8,4+rand%8;
			AltarPossible=false;
			WallSquare=floor,wall;
			FloorSquare=parquet,empty;
			DoorSquare=parquet,door;
			GenerateDoor=true;
			ReCalculate=true;
			DivineOwner=0;
			GenerateTunnel=false;
			GenerateLamps=true;
			Type=normalroom;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false; }
		{
			Character=farmer;
		}

		Square, Random { Walkable=true; InRoom=false;  }
		{
			Character=farmer;
		}

		Square, Pos 23,47;
		{
			IsWorldMapEntry=true;
		}

		Room 0;
		{
			Pos=11,11;
			Size=25,25;
			AltarPossible=false;
			WallSquare=grassterrain,wall;
			FloorSquare=grassterrain,empty;
			GenerateDoor=false;
			ReCalculate=false;
			DivineOwner=1;
			GenerateLamps=false;
			Type=cathedral;

			Square, Pos 11, 24;
			{
				OverTerrain = empty;
			}

			Square, Pos 12, 24;
			{
				OverTerrain = empty;
			}

			Square, Pos 13, 24;
			{
				OverTerrain = empty;
			}

			GroundTerrainMap
			{
				Pos = 4,4;
				Size = 17,17;
				Types
				{
					- = marble floor;
				}
			}
			{
				......-----......
				....---------....
				...-----------...
				..-------------..
				.---------------.
				.---------------.
				-----------------
				-----------------
				-----------------
				-----------------
				-----------------
				.---------------.
				.---------------.
				..-------------..
				...-----------...
				....---------....
				......-----......
			}
			
			OverTerrainMap
			{
				Pos = 4,4;
				Size = 17,17;
				
				Types
				{
					v = valpurium wall;
					t = throne;
				}
			}
			{
				......vvvvv......
				....vvv...vvv....
				...vv.......vv...
				..vv.........vv..
				.vv...........vv.
				.v.............v.
				vv.............vv
				v......t.t......v
				v...............v
				v...............v
				vv.............vv
				.v.............v.
				.vv...........vv.
				..vv.........vv..
				...vv.......vv...
				....vvv...vvv....
				......v...v......
			}
			
			CharacterMap
			{
				Pos = 4,4;
				Size = 17,17;
				
				Types
				{
					s = cityguard;
					p = perttu;
					f = farmer;
				}
			}
			{
				.................
				.................
				.................
				.................
				.................
				.................
				......sssss......
				......sp..s......
				......s...s......
				......s...s......
				......s...s......
				......s...s......
				......s...s......
				......s...s......
				......s...s......
				.................
				.................
			}
			
			ItemMap
			{
				Pos = 4,4;
				Size = 17,17;
				
				Types
				{
					a = avatarofvalpuri;
					b = banana;
				}
			}
			{
				.................
				.................
				.................
				.................
				.................
				.................
				.................
				.........a.......
				........b........
				........b........
				........b........
				........b........
				........b........
				........b........
				........b........
				.................
				.................
			}

			
		}

		Room 1;
		{
			Pos=25,37;
			Size=7,5;
			AltarPossible=false;
			WallSquare=floor,wall;
			FloorSquare=parquet,empty;
			GenerateDoor=false;
			ReCalculate=false;
			DivineOwner=10;
			Type=shop;
			
			Square, Pos 5, 0;
			{
				GroundTerrain = parquet;
				OverTerrain = door;
			}

			Square, Pos 4, 1;
			{
				Character = shopkeeper;
			}

			ItemMap
			{
				Pos=1,1;
				Size=5,3;

				Types
				{
					t = scrollofteleport;
					s = spear;
					p = pickaxe;
					l = lamp;
					c = scrollofchangematerial;
					b = banana;
					l = bananaflesh lump;
					L = pork loaf;
					P = glass omleurine potion;
				}
			}
			{
			    tsp.b
			    PlLcl
			    tbbbL		
			}
		}

		Room 2;
		{
			Pos=41,41;
			Size=5,5;
			WallSquare=floor,gold wall;
			GenerateDoor=false;
			DivineOwner=2;
			Type=temple;

			Square, Pos 2, 0;
			{
				GroundTerrain = parquet;
				OverTerrain = gold door;
			}

			Square, Pos 2, 2;
			{
				OverTerrain = gold altar;
			}

			Square, Pos 2, 3;
			{
				Character = priest;
			}
		}

		Room 3;
		{
			Pos=2,41;
			Size=5,5;
			WallSquare=floor,marble wall;
			GenerateDoor=false;
			DivineOwner=4;
			Type=temple;

			Square, Pos 4, 2;
			{
				GroundTerrain = parquet;
				OverTerrain = marble door;
			}

			Square, Pos 2, 2;
			{
				OverTerrain = marble altar;
			}

			Square, Pos 1, 2;
			{
				Character = priest;
			}
		}

		Room 4;
		{
			Pos=41,2;
			Size=5,5;
			WallSquare=floor,bananaflesh wall;
			GenerateDoor=false;
			DivineOwner=6;
			Type=temple;

			Square, Pos 0, 2;
			{
				GroundTerrain = parquet;
				OverTerrain = bananaflesh door;
			}

			Square, Pos 2, 2;
			{
				OverTerrain = bananaflesh altar;
			}

			Square, Pos 3, 2;
			{
				Character = priest;
			}
		}

		Room 5;
		{
			Pos=2,2;
			Size=5,5;
			WallSquare=floor,parchment wall;
			GenerateDoor=false;
			DivineOwner=7;
			Type=temple;

			Square, Pos 2, 4;
			{
				GroundTerrain = parquet;
				OverTerrain = parchment door;
			}

			Square, Pos 2, 2;
			{
				OverTerrain = parchment altar;
			}

			Square, Pos 2, 1;
			{
				Character = priest;
			}
		}

		Room 6;
		{
			FloorSquare=stone floor,empty;
			WallSquare=stone floor, wood wall;
			DoorSquare=stone floor, door;
		}

		Room 7;
		{
			FloorSquare=stone floor,empty;
			WallSquare=stone floor, wood wall;
			DoorSquare=stone floor, door;
		}

		Room 8;
		{
			FloorSquare=stone floor,empty;
			WallSquare=stone floor, wood wall;
			DoorSquare=stone floor, door;
		}
	}
}
